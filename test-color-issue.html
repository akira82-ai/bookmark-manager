<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·±è‰²æ¨¡å¼æ–‡å­—é¢œè‰²æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        
        .test-container {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ccc;
        }
        
        /* æµ‹è¯•1ï¼šæ²¡æœ‰æŒ‡å®šæ–‡å­—é¢œè‰²çš„å…ƒç´  */
        .no-color {
            background: white;
            padding: 10px;
            margin: 10px 0;
        }
        
        /* æµ‹è¯•2ï¼šæ˜ç¡®æŒ‡å®šæ·±è‰²æ–‡å­— */
        .dark-text {
            background: white;
            color: #333;
            padding: 10px;
            margin: 10px 0;
        }
        
        /* æµ‹è¯•3ï¼šä½¿ç”¨å†…è”æ ·å¼ä½†æ²¡æœ‰é¢œè‰² */
        .inline-no-color {
            background: white;
            padding: 10px;
            margin: 10px 0;
        }
        
        /* æµ‹è¯•4ï¼šä½¿ç”¨å†…è”æ ·å¼ä¸”æœ‰é¢œè‰² */
        .inline-with-color {
            background: white;
            color: #333;
            padding: 10px;
            margin: 10px 0;
        }
        
        .info {
            background: #e7f3ff;
            border: 1px solid #b6d7ff;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .current-theme {
            font-weight: bold;
            color: #007bff;
        }
    </style>
</head>
<body>
    <h1>ğŸ” æ·±è‰²æ¨¡å¼æ–‡å­—é¢œè‰²é—®é¢˜åˆ†æ</h1>
    
    <div class="info">
        <p>å½“å‰æµè§ˆå™¨ä¸»é¢˜ï¼š<span class="current-theme" id="current-theme">æ£€æµ‹ä¸­...</span></p>
        <p>å½“å‰ç³»ç»Ÿé¢œè‰²æ–¹æ¡ˆï¼š<span class="current-theme" id="color-scheme">æ£€æµ‹ä¸­...</span></p>
    </div>
    
    <div class="test-container">
        <h3>æµ‹è¯•1ï¼šCSSç±»ï¼ŒæœªæŒ‡å®šæ–‡å­—é¢œè‰²</h3>
        <div class="no-color">
            è¿™æ®µæ–‡å­—æ²¡æœ‰æŒ‡å®šé¢œè‰²ï¼Œåœ¨æ·±è‰²æ¨¡å¼ä¸‹å¯èƒ½ä¼šå˜æˆæµ…è‰²
        </div>
    </div>
    
    <div class="test-container">
        <h3>æµ‹è¯•2ï¼šCSSç±»ï¼Œæ˜ç¡®æŒ‡å®šæ·±è‰²æ–‡å­—</h3>
        <div class="dark-text">
            è¿™æ®µæ–‡å­—æ˜ç¡®æŒ‡å®šäº† color: #333ï¼Œåº”è¯¥å§‹ç»ˆå¯è§
        </div>
    </div>
    
    <div class="test-container">
        <h3>æµ‹è¯•3ï¼šå†…è”æ ·å¼ï¼ŒæœªæŒ‡å®šæ–‡å­—é¢œè‰²ï¼ˆæ¨¡æ‹Ÿå½“å‰å¼¹çª—ï¼‰</h3>
        <div class="inline-no-color" style="background: white; border: 1px solid #ccc; padding: 15px; width: 250px;">
            <div style="font-weight: bold; margin-bottom: 10px;">ğŸ’¡ æ™ºèƒ½æé†’</div>
            <div style="margin-bottom: 15px; font-size: 14px;">æ‚¨è¿‘æœŸå·²è®¿é—®å¤šæ¬¡å½“å‰ç½‘ç«™ï¼Œéœ€è¦æ”¶è—å—ï¼Ÿ</div>
        </div>
    </div>
    
    <div class="test-container">
        <h3>æµ‹è¯•4ï¼šå†…è”æ ·å¼ï¼ŒæŒ‡å®šæ–‡å­—é¢œè‰²</h3>
        <div class="inline-with-color" style="background: white; border: 1px solid #ccc; padding: 15px; width: 250px;">
            <div style="font-weight: bold; margin-bottom: 10px; color: #333;">ğŸ’¡ æ™ºèƒ½æé†’</div>
            <div style="margin-bottom: 15px; font-size: 14px; color: #333;">æ‚¨è¿‘æœŸå·²è®¿é—®å¤šæ¬¡å½“å‰ç½‘ç«™ï¼Œéœ€è¦æ”¶è—å—ï¼Ÿ</div>
        </div>
    </div>
    
    <button onclick="createTestToast()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 10px 0;">
        åˆ›å»ºæµ‹è¯•å¼¹çª—
    </button>
    
    <div id="toast-container"></div>
    
    <script>
        // æ£€æµ‹å½“å‰ä¸»é¢˜
        function updateThemeInfo() {
            const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const currentTheme = prefersDarkScheme ? 'æ·±è‰²æ¨¡å¼' : 'æµ…è‰²æ¨¡å¼';
            const colorScheme = prefersDarkScheme ? 'dark' : 'light';
            
            document.getElementById('current-theme').textContent = currentTheme;
            document.getElementById('color-scheme').textContent = colorScheme;
        }
        
        // åˆ›å»ºæµ‹è¯•å¼¹çª—ï¼ˆæ¨¡æ‹Ÿcontent.jsä¸­çš„å¼¹çª—ï¼‰
        function createTestToast() {
            const container = document.getElementById('toast-container');
            
            // æ¸…é™¤ä¹‹å‰çš„å¼¹çª—
            const existingToast = document.getElementById('test-toast');
            if (existingToast) {
                existingToast.remove();
            }
            
            // åˆ›å»ºå¼¹çª—ï¼ˆå®Œå…¨å¤åˆ¶content.jsçš„é€»è¾‘ï¼‰
            const toast = document.createElement('div');
            toast.id = 'test-toast';
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 999999;
                background: white;
                border: 1px solid #ccc;
                border-radius: 5px;
                padding: 15px;
                width: 250px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                font-family: Arial, sans-serif;
            `;
            
            toast.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 10px;">ğŸ’¡ æ™ºèƒ½æé†’</div>
                <div style="margin-bottom: 15px; font-size: 14px;">æ‚¨è¿‘æœŸå·²è®¿é—®å¤šæ¬¡å½“å‰ç½‘ç«™ï¼Œéœ€è¦æ”¶è—å—ï¼Ÿ</div>
                <div style="display: flex; gap: 5px;">
                    <button style="padding: 5px 10px; border: none; background: #007bff; color: white; border-radius: 3px; cursor: pointer;">æ”¶è—</button>
                    <button onclick="this.parentElement.parentElement.remove()" style="padding: 5px 10px; border: 1px solid #ccc; background: white; border-radius: 3px; cursor: pointer; margin-left: auto;">å…³é—­</button>
                </div>
            `;
            
            container.appendChild(toast);
            
            // 10ç§’åè‡ªåŠ¨å…³é—­
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 10000);
        }
        
        // é¡µé¢åŠ è½½æ—¶æ›´æ–°ä¸»é¢˜ä¿¡æ¯
        updateThemeInfo();
        
        // ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateThemeInfo);
    </script>
</body>
</html>